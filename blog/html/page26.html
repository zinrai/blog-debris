<!DOCTYPE html><!--[if lt IE 7]>      <html xmlns="http://www.w3.org/1999/xhtml"
    xmlns:og="http://ogp.me/ns#"
    xmlns:fb="https://www.facebook.com/2008/fbml" class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html xmlns="http://www.w3.org/1999/xhtml"
    xmlns:og="http://ogp.me/ns#"
    xmlns:fb="https://www.facebook.com/2008/fbml" class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html xmlns="http://www.w3.org/1999/xhtml"
    xmlns:og="http://ogp.me/ns#"
    xmlns:fb="https://www.facebook.com/2008/fbml" class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!--> <html xmlns="http://www.w3.org/1999/xhtml"
    xmlns:og="http://ogp.me/ns#"
    xmlns:fb="https://www.facebook.com/2008/fbml" class="no-js"> <!--<![endif]-->
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <meta name="description" content="This is an awesome blog">
        <meta name="viewport" content="width=device-width">
        <title>Page 26 &mdash; command not found:</title>
            <link rel="stylesheet" href="_static/normalize.css" type="text/css">
            <link rel="stylesheet" href="_static/sphinx.css" type="text/css">
            <link rel="stylesheet" href="_static/main.css" type="text/css">
            <link rel="stylesheet" href="_static/dark.css" type="text/css">
            <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
            <link rel="stylesheet" href="_static/font-awesome.min.css" type="text/css">
        <!-- Load modernizr and JQuery -->
        <script src="_static/vendor/modernizr-2.6.2.min.js"></script>
        <script src="//ajax.googleapis.com/ajax/libs/jquery/1.8.2/jquery.min.js"></script>
        <script>window.jQuery || document.write('<script src="_static/vendor/jquery-1.8.2.min.js"><\/script>')</script>
        <script src="_static/plugins.js"></script>
        <script src="_static/main.js"></script>
        <link rel="next" title="Older" href="page27.html" /><link rel="prev" title="Newer" href="page25.html" /><link rel="alternate" type="application/rss+xml" title="RSS" href="rss.html" /><script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '1.4.2',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script><script type="text/javascript" src="_static/underscore.js"></script><script type="text/javascript" src="_static/doctools.js"></script>

    <script type="text/javascript">
        $(document).ready(function () {
            // Adjusts document height if sidebar is taller
            var documentwrapper = document.getElementsByTagName('article')[0];
            var sidebar = document.getElementsByTagName('aside')[0];

            if (sidebar.offsetHeight > documentwrapper.offsetHeight)
            {
                documentwrapper.style.minHeight = sidebar.offsetHeight + "px";
            }

            // Scroll to content if on small screen
            if (screen.width < 480)
            {
                $(document).scrollTop(documentwrapper.offsetTop - 44);
            }
        });
    </script></head>
    <body role="document">
        <!--[if lt IE 7]>
            <p class="chromeframe">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> or <a href="http://www.google.com/chromeframe/?redirect=true">activate Google Chrome Frame</a> to improve your experience.</p>
        <![endif]-->

      <div id="container"><div class="header-container">
    <header class="wrapper clearfix">
        <div class="title">
          <h1><a href="index.html">command not found:</a></h1>
          <h4>Hello World</h4>
        </div>
        <nav>
          <ul>
            <li class="main-nav">
              <a href="index.html">Home</a>
            </li>
            <li class="main-nav">
              <a href="pages/about.html">About</a>
            </li>
            <li class="quicklink"><div class="rss">
        <a href="rss.html" title="Subscribe via RSS"><span class="fa fa-lg fa-rss"></span></a>
    </div></li></ul>
        </nav>
    </header>
</div>

<div class="main-container" role="main"><div class="main wrapper clearfix"><article role="article"><ul class="related clearfix">
            <li class="left"> &laquo; <a href="page25.html">Newer</a></li>
            <li class="right"><a href="page27.html">Older</a> &raquo; </li>
        </ul><div class="timestamp postmeta">
            <span>July 20, 2013</span>
        </div>
        <h1><a href="2013/07/20/freebsd_pxeboot.html">シェルスクリプトでFreeBSD 9.1のインストール自動化</a></h1>
<p>OSインストールをするだけでお金が貰えるならば喜んでやるが、趣味の時間をOSインストールに奪われるのはつらいので、自動化してみた。</p>
<div class="section" id="pxe-boot">
<h2>PXE boot サーバ構築</h2>
<div class="highlight-python"><div class="highlight"><pre><span class="c"># mdconfig -a -t vnode -f FreeBSD-9.1-RELEASE-amd64-disc1.iso</span>
<span class="n">md0</span>
<span class="c"># mount_cd9660 /dev/md0 /mnt</span>
<span class="c"># mkdir /var/pxeboot</span>
<span class="c"># cp -Rv /mnt/ /var/pxeboot</span>
<span class="c"># umount /mnt</span>
<span class="c"># mdconfig -d -u 0</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="c"># vi /var/pxeboot/etc/fstab</span>
<span class="c"># /dev/iso9660/FREEBSD_INSTALL / cd9660 ro 0 0 &lt;- コメントアウト</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre># vi /etc/inetd.conf
tftp    dgram   udp     wait    root    /usr/libexec/tftpd      tftpd -l -s /var/pxeboot/boot

# /etc/rc.d/inetd onestart
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre># cd /usr/ports/net/isc-dhcp42-server
# make install

# vi /usr/local/etc/dhcpd.conf
ddns-update-style none;
server-name "pxeboot";            # name of the tftp-server
server-identifier 192.168.0.253;  # address of the tftp-server
next-server 192.168.0.253;        # address of the NFS-server

subnet 192.168.0.0 netmask 255.255.255.0 {
    range 192.168.0.220 192.168.0.250;
    option routers 192.168.0.254;
    option root-path "/var/pxeboot"; # root-path for NFS
    filename "pxeboot";              # filename of NBP (network bootstrap program)
}

# /usr/local/etc/rc.d/isc-dhcpd onestart
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre># vi /etc/exports
/var/pxeboot -alldirs -maproot=root

# /etc/rc.d/nfsd onestart
</pre></div>
</div>
<p>再起動後もデーモンを起動させておきたければrc.confに書いておく。</p>
<div class="highlight-python"><div class="highlight"><pre><span class="c"># vi /etc/rc.conf</span>
<span class="n">inetd_enable</span><span class="o">=</span><span class="s">"YES"</span>
<span class="n">dhcpd_enable</span><span class="o">=</span><span class="s">"YES"</span>
<span class="n">dhcpd_ifaces</span><span class="o">=</span><span class="s">"em0"</span>
<span class="n">nfs_server_enable</span><span class="o">=</span><span class="s">"YES"</span>
</pre></div>
</div>
</div>
<div class="section" id="freebsd">
<h2>FreeBSDインストールスクリプト</h2>
<p>PXE BootしたマシンのMACアドレスが書かれたシェルスクリプトを探し、実行するようになっている。</p>
<div class="highlight-python"><div class="highlight"><pre><span class="c"># mkdir /var/scripts/freebsd91</span>
<span class="c"># cd /usr/freebsd-dist</span>
<span class="c"># cp *.txz /var/scripts/freebsd91</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="c"># vi /var/pxeboot/var/scripts/os_install.sh</span>
</pre></div>
</div>
<div class="highlight-bash"><div class="highlight"><pre><span class="c">#!/bin/sh</span>

get_conf<span class="o">()</span> <span class="o">{</span>
  <span class="k">if</span> <span class="o">[</span> <span class="s2">"$OS"</span> <span class="o">=</span> <span class="s2">"FreeBSD"</span> <span class="o">]</span>; <span class="k">then</span>
<span class="k">    </span><span class="nb">local </span><span class="nv">MACADDR</span><span class="o">=</span><span class="s2">"`ifconfig | awk '/ether/ {print $NF}'`"</span>
  <span class="k">elif</span> <span class="o">[</span> <span class="s2">"$OS"</span> <span class="o">=</span> <span class="s2">"Linux"</span> <span class="o">]</span>; <span class="k">then</span>
<span class="k">    </span><span class="nb">local </span><span class="nv">MACADDR</span><span class="o">=</span><span class="s2">"`ifconfig | awk '/HWaddr/ {print $NF}'`"</span>
  <span class="k">fi</span>

<span class="k">  for </span>a in <span class="nv">$MACADDR</span>; <span class="k">do</span>
<span class="k">    </span>grep -r <span class="nv">$MACADDR</span> <span class="k">${</span><span class="nv">CWD</span><span class="k">}</span>/*.conf | awk -F: <span class="s1">'{print $1}'</span>
  <span class="k">done</span>
<span class="o">}</span>

<span class="nv">CWD</span><span class="o">=</span><span class="sb">`</span>dirname <span class="nv">$0</span><span class="sb">`</span>

<span class="nv">OS</span><span class="o">=</span><span class="sb">`</span>uname<span class="sb">`</span>
<span class="nv">CONFFILE</span><span class="o">=</span><span class="sb">`</span>get_conf<span class="sb">`</span>

<span class="k">if</span> <span class="o">[</span> -z <span class="s2">"$CONFFILE"</span> <span class="o">]</span>; <span class="k">then</span>
<span class="k">  </span><span class="nb">printf</span> <span class="s1">'Script Not Found\n'</span>
  <span class="nb">exit </span>1
<span class="k">fi</span>

<span class="k">if</span> <span class="o">[</span> <span class="s2">"$OS"</span> <span class="o">=</span> <span class="s2">"FreeBSD"</span> <span class="o">]</span>; <span class="k">then</span>
<span class="k">  </span><span class="nv">IFACE</span><span class="o">=</span><span class="sb">`</span>netstat -nr | awk <span class="s1">'{if($1 ~ /^default$/) print $6}'</span><span class="sb">`</span>
  <span class="nv">MOUNTNAME</span><span class="o">=</span><span class="sb">`</span>sha256 -q <span class="nv">$CONFFILE</span><span class="sb">`</span>
<span class="k">elif</span> <span class="o">[</span> <span class="s2">"$OS"</span> <span class="o">=</span> <span class="s2">"Linux"</span> <span class="o">]</span>; <span class="k">then</span>
<span class="k">  </span><span class="nv">IFACE</span><span class="o">=</span><span class="sb">`</span>netstat -nr | awk <span class="s1">'{if($4 ~ /^UG$/) print $8}'</span><span class="sb">`</span>
  <span class="nv">MOUNTNAME</span><span class="o">=</span><span class="sb">`</span>sha256sum <span class="nv">$CONFFILE</span> | awk <span class="s1">'{print $1}'</span><span class="sb">`</span>
<span class="k">fi</span>

<span class="nv">$CONFFILE</span> <span class="nv">$IFACE</span> <span class="nv">$CWD</span> <span class="nv">$MOUNTNAME</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="c"># vi /var/pxeboot/var/scripts/freebsd_install.conf</span>
</pre></div>
</div>
<div class="highlight-bash"><div class="highlight"><pre><span class="c">#!/bin/sh</span>

<span class="c"># 01:23:45:67:89:ab</span>

<span class="nv">DISK</span><span class="o">=</span>ada0
<span class="nv">IFACE</span><span class="o">=</span><span class="nv">$1</span>
<span class="nv">CWD</span><span class="o">=</span><span class="nv">$2</span>
<span class="nv">CHROOT_FREEBSD</span><span class="o">=</span><span class="s2">"/mnt/$3"</span>
<span class="nv">DIST_TXZ</span><span class="o">=</span><span class="sb">`</span>ls <span class="k">${</span><span class="nv">CWD</span><span class="k">}</span>/freebsd91/*.txz<span class="sb">`</span>

gpart destroy -F <span class="nv">$DISK</span>
gpart create -s gpt <span class="nv">$DISK</span>
gpart add -s 64K -t freebsd-boot <span class="nv">$DISK</span>
gpart add -s 8G -t freebsd-swap -l swap0 <span class="nv">$DISK</span>
gpart add -t freebsd-ufs <span class="nv">$DISK</span>
gpart bootcode -b /boot/pmbr -p /boot/gptboot -i 1 <span class="nv">$DISK</span>

newfs -U /dev/<span class="k">${</span><span class="nv">DISK</span><span class="k">}</span>p3

mkdir <span class="nv">$CHROOT_FREEBSD</span>

mount /dev/<span class="k">${</span><span class="nv">DISK</span><span class="k">}</span>p3 <span class="nv">$CHROOT_FREEBSD</span>

<span class="nb">cd</span> <span class="nv">$CHROOT_FREEBSD</span>

<span class="k">for </span>FILE in <span class="nv">$DIST_TXZ</span>; <span class="k">do</span>
<span class="k">  </span>tar xfzp <span class="nv">$FILE</span>
<span class="k">done</span>

cat <span class="s">&lt;&lt; EOF &gt; ${CHROOT_FREEBSD}/etc/rc.conf</span>
<span class="s">hostname="freebsd.local"</span>
<span class="s">keymap="us.iso.kbd"</span>
<span class="s">ifconfig_${IFACE}=" inet 192.168.0.252 netmask 255.255.255.0"</span>
<span class="s">defaultrouter="192.168.0.254"</span>
<span class="s">sshd_enable="YES"</span>
<span class="s"># Set dumpdev to "AUTO" to enable crash dumps, "NO" to disable</span>
<span class="s">dumpdev="AUTO"</span>
<span class="s">EOF</span>

cat <span class="s">&lt;&lt; EOF &gt; ${CHROOT_FREEBSD}/etc/resolv.conf</span>
<span class="s">nameserver 8.8.8.8</span>
<span class="s">EOF</span>

cat <span class="s">&lt;&lt; EOF &gt; ${CHROOT_FREEBSD}/etc/fstab</span>
<span class="s"># Device        Mountpoint      FStype  Options Dump    Pass#</span>
<span class="s">/dev/${DISK}p3     /               ufs     rw      1       1</span>
<span class="s">/dev/${DISK}p2     none            swap    sw      0       0</span>
<span class="s">EOF</span>

cat <span class="s">&lt;&lt; EOF &gt; ${CHROOT_FREEBSD}/tmp/freebsd_setup.sh</span>
<span class="s">newaliases</span>
<span class="s">touch /etc/wall_cmos_clock</span>
<span class="s">tzsetup Asia/Tokyo</span>

<span class="s">dumpon /dev/${DISK}p2</span>
<span class="s">ln -sf /dev/${DISK}p2 /dev/dumpdev</span>
<span class="s">EOF</span>

cat <span class="s">&lt;&lt; 'EOF' &gt; ${CHROOT_FREEBSD}/tmp/user_acount.sh</span>
<span class="s">printf "$6$oHUVG9WPkdiCoxCP$XsnO5TmowzdGWNkZHv9pPUmFqgsEojkfzUa1OQj2zUOWAChL5cdGkm.dhseF0z5Tz30IEDrxNzOcsflPUgHDs." | pw usermod -n root -H 0</span>

<span class="s">pw useradd -n nanashi -s /bin/tcsh -G wheel -m</span>
<span class="s">printf "$6$wAeDl/exZFEDC0Sl$UdvTamL.94EcWFcGIAYJSgsvzaFxSd.ZLRMkD.KI27L6jxUGsWqOdEJs6if0rTG/XuEfQ9TNzHbjI99YfxPLD1" | pw usermod -n nanashi -H 0</span>
<span class="s">EOF</span>

mount -t devfs dev <span class="k">${</span><span class="nv">CHROOT_FREEBSD</span><span class="k">}</span>/dev

chroot <span class="nv">$CHROOT_FREEBSD</span> /bin/sh /tmp/freebsd_setup.sh
chroot <span class="nv">$CHROOT_FREEBSD</span> /bin/sh /tmp/user_acount.sh

rm <span class="k">${</span><span class="nv">CHROOT_FREEBSD</span><span class="k">}</span>/tmp/freebsd_setup.sh
rm <span class="k">${</span><span class="nv">CHROOT_FREEBSD</span><span class="k">}</span>/tmp/user_acount.sh

<span class="nb">cd</span> /
umount <span class="k">${</span><span class="nv">CHROOT_FREEBSD</span><span class="k">}</span>/dev
umount <span class="nv">$CHROOT_FREEBSD</span>

rmdir <span class="nv">$CHROOT_FREEBSD</span>
reboot
</pre></div>
</div>
<p>PXE boot時に指定のスクリプトを実行するようにrc.localに書いておく。</p>
<div class="highlight-python"><div class="highlight"><pre># vi /var/pxeboot/etc/rc.local

#!/bin/sh
# $FreeBSD: release/9.1.0/release/rc.local 232427 2012-03-03 02:13:53Z nwhitehorn $

/var/script/os_install.sh
</pre></div>
</div>
<ul class="simple"><li><a class="reference external" href="https://www.bsdconsulting.co.jp/CGI/BSDC.CGI?CNT=FREEBSDSTUDY_2013022201">https://www.bsdconsulting.co.jp/CGI/BSDC.CGI?CNT=FREEBSDSTUDY_2013022201</a></li>
<li><a class="reference external" href="http://stefankonarski.de/content/freebsd-9-pxe-boot-und-bsdinstall-installieren">http://stefankonarski.de/content/freebsd-9-pxe-boot-und-bsdinstall-installieren</a></li>
</ul></div>
        <div class="postmeta">
        <div class="author">
            <span>Posted by zinrai</span>
        </div>
        <div class="categories">
            <span>
                Filed under:
                <a href="categories/freebsd.html">freebsd</a>, <a href="categories/pxeboot.html">pxeboot</a></span>
        </div>
        <div class="tags">
            <span>
                Tags:
                <a href="tags/freebsd.html">freebsd</a>, <a href="tags/pxeboot.html">pxeboot</a></span>
        </div>
        </div><div class="separator post_separator"></div><div class="timestamp postmeta">
            <span>June 22, 2013</span>
        </div>
        <h1><a href="2013/06/22/centos_cobbler_puppet_install.html">Cobbler + Puppet</a></h1>
<p>前回はCobblerでとりあえずOSインストールが出来るところまでやったので、今回はkickstartファイルの編集、Puppet(Puppet client)のインストールとセットアップを自動化してみる。</p>
<div class="section" id="dnsmasq">
<h2>dnsmasq</h2>
<p>DHCP,DNSサーバにdnsmasqを使用する。ISC DHCPよりもdnsmasqを使ったほうがPuppetと連携させやすいことに気が付いた。</p>
<div class="highlight-python"><div class="highlight"><pre># vi /etc/cobbler/settings

manage_dns: 1
manage_dhcp: 1
server: 192.168.0.1
next_server: 192.168.0.254 &lt;- Gateway
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="c"># vi /etc/cobbler/modules.conf</span>

<span class="p">[</span><span class="n">dns</span><span class="p">]</span>
<span class="n">module</span> <span class="o">=</span> <span class="n">manage_dnsmasq</span>

<span class="p">[</span><span class="n">dhcp</span><span class="p">]</span>
<span class="n">module</span> <span class="o">=</span> <span class="n">manage_dnsmasq</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="c"># yum install dnsmasq</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre># vi /etc/cobbler/dnsmasq.template

# Cobbler generated configuration file for dnsmasq
# $date
#

# resolve.conf .. ?
#no-poll
#enable-dbus
read-ethers
addn-hosts = /var/lib/cobbler/cobbler_hosts

dhcp-range=192.168.0.220,192.168.0.250
dhcp-option=3,$next_server
dhcp-lease-max=1000
dhcp-authoritative
dhcp-boot=pxelinux.0
dhcp-boot=net:normalarch,pxelinux.0
dhcp-boot=net:ia64,$elilo

$insert_cobbler_system_definitions
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre># vi /etc/hosts
192.168.0.1 cobbler.localnet
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="c"># chkconfig dnsmasq on</span>
<span class="c"># service dnsmasq start</span>
<span class="c"># service cobblerd restart</span>
<span class="c"># cobbler sync</span>
</pre></div>
</div>
</div>
<div class="section" id="cobbler">
<h2>Cobbler</h2>
<div class="highlight-python"><div class="highlight"><pre># cobbler profile report
Name                           : CentOS6.4-x86_64
TFTP Boot Files                : {}
Comment                        :
DHCP Tag                       : default
Distribution                   : CentOS6.4-x86_64
Enable gPXE?                   : 0
Enable PXE Menu?               : 1
Fetchable Files                : {}
Kernel Options                 : {}
Kernel Options (Post Install)  : {}
Kickstart                      : /var/lib/cobbler/kickstarts/sample.ks
Kickstart Metadata             : {}
Management Classes             : []
Management Parameters          : &lt;&lt;inherit&gt;&gt;
Name Servers                   : []
Name Servers Search Path       : []
Owners                         : ['admin']
Parent Profile                 :
Proxy                          :
Red Hat Management Key         : &lt;&lt;inherit&gt;&gt;
Red Hat Management Server      : &lt;&lt;inherit&gt;&gt;
Repos                          : []
Server Override                : &lt;&lt;inherit&gt;&gt;
Template Files                 : {}
Virt Auto Boot                 : 1
Virt Bridge                    : xenbr0
Virt CPUs                      : 1
Virt Disk Driver Type          : raw
Virt File Size(GB)             : 5
Virt Path                      :
Virt RAM (MB)                  : 512
Virt Type                      : qemu
</pre></div>
</div>
<p>登録しているprofileからPuppet Server,Puppet Clientのprofileを作成する。</p>
<div class="highlight-python"><div class="highlight"><pre><span class="c"># cobbler profile copy --name=CentOS6.4-x86_64 --newname=CentOS6.4-puppet_server</span>
<span class="c"># cobbler profile copy --name=CentOS6.4-x86_64 --newname=CentOS6.4-puppet_client</span>
</pre></div>
</div>
<p>EPELにあるPuppetを使用する。</p>
<div class="highlight-python"><div class="highlight"><pre># yum -y install wget

# cobbler repo add --name=CentOS6.4-epel --mirror=http://ftp.jaist.ac.jp/pub/Linux/Fedora/epel/6/x86_64 --mirror-locally=no
# cobbler reposync
# mkdir /var/www/cobbler/repo_mirror/CentOS6.4-epel/.origin
# cobbler reposync

# cobbler repo report
Name                           : CentOS6.4-epel
Arch                           : x86_64
Breed                          : yum
Comment                        :
Createrepo Flags               : &lt;&lt;inherit&gt;&gt;
Environment Variables          : {}
Keep Updated                   : True
Mirror                         : http://ftp.jaist.ac.jp/pub/Linux/Fedora/epel/6/x86_64
Mirror locally                 : False
Owners                         : ['admin']
Priority                       : 99
RPM List                       : []
Yum Options                    : {}
</pre></div>
</div>
<p>profileにリポジトリの情報を追加</p>
<div class="highlight-python"><div class="highlight"><pre><span class="c"># cobbler profile edit --name=CentOS6.4-puppet_server --repos="CentOS6.4-epel"</span>
<span class="c"># cobbler profile edit --name=CentOS6.4-puppet_client --repos="CentOS6.4-epel"</span>
</pre></div>
</div>
<p>profileをコピーしたままの状態ではsample.ksファイルが読み込まれるので、ksファイルをコピーしてPuppetをインストールするよう書き換える。</p>
<div class="highlight-python"><div class="highlight"><pre><span class="c"># cd /var/lib/cobbler/kickstarts</span>
<span class="c"># cp sample.ks puppet_server.ks</span>
<span class="c"># cp sample.ks puppet_client.ks</span>

<span class="c"># cobbler profile edit --name=CentOS6.4-puppet_server --kickstart=/var/lib/cobbler/kickstarts/puppet_server.ks</span>
<span class="c"># cobbler profile edit --name=CentOS6.4-puppet_client --kickstart=/var/lib/cobbler/kickstarts/puppet_client.ks</span>
</pre></div>
</div>
<p>固定IPを割り振るためにsystemに登録する。</p>
<div class="highlight-python"><div class="highlight"><pre># vi /etc/cobbler/settings
pxe_just_once: 1

# service cobblerd restart
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre># cobbler system add  \
--name=puppet-server-2 \
--hostname=puppetserver.localnet \
--dns-name=puppetserver.localnet \
--profile=CentOS6.4-puppet_server \
--interface=eth0 \
--mac=XX:XX:XX:XX:XX:XX \
--static=1 \
--ip-address=192.168.0.2 \
--subnet=255.255.255.0 \
--gateway=192.168.0.254 \
--name-servers=192.168.0.1

# cobbler system add  \
--name=puppet-client-003 \
--hostname=puppetclient003.localnet \
--dns-name=puppetclient003.localnet \
--profile=CentOS6.4-puppet_client \
--interface=eth0 \
--mac=XX:XX:XX:XX:XX:XX \
--static=1 \
--ip-address=192.168.0.3 \
--subnet=255.255.255.0 \
--gateway=192.168.0.254 \
--name-servers=192.168.0.1
</pre></div>
</div>
<p>pxe_just_onceを有効にすると登録したsystemは1度しかpxe bootしないので、OSインストール後に、もう1度pxe bootさせたくなったら下記を実行する。</p>
<div class="highlight-python"><div class="highlight"><pre><span class="c"># cobbler system edit --name=puppet-client-003 --netboot-enabled=1</span>
</pre></div>
</div>
</div>
<div class="section" id="puppet">
<h2>Puppet</h2>
<p>PuppetにはPUSHモードとPULLモードがある。</p>
<table border="1" class="docutils"><colgroup><col width="14%"/><col width="86%"/></colgroup><tbody valign="top"><tr class="row-odd"><td>PULL</td>
<td>クライアントからサーバへ定期的にマニュフェストを取得し適用する。</td>
</tr><tr class="row-even"><td>PUSH</td>
<td>サーバからクライアントへマニュフェストを取得し適用するよう指示する。</td>
</tr></tbody></table><p>今回はPUSHモードのPuppet環境を構築する。</p>
<div class="section" id="puppet-server">
<h3>Puppet server</h3>
<p>Puppet clientを自動構築するためにPuppet serverを作り込む。</p>
<p>Puppet serverのほうはOSインストール後にPuppet serverをインストールするなり、Cobblerサーバのkickstartファイルのpackageセクションに記述するなり好きにすればいいと思う。</p>
<div class="highlight-python"><div class="highlight"><pre># puppet --version
2.6.18
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre># vi /etc/sysconfig/puppet

# The puppetmaster server
#PUPPET_SERVER=puppet

# If you wish to specify the port to connect to do so here
PUPPET_PORT=8139

# Where to log to. Specify syslog to send log messages to the system log.
PUPPET_LOG=/var/log/puppet/puppet.log

# You may specify other parameters to the puppet client here
#PUPPET_EXTRA_OPTS=--waitforcert=500
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre># vi /etc/puppet/autosign.conf

*.localnet
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre># vi /etc/puppet/fileserver.conf

[files]
 path /etc/puppet/manifests/files
 allow *
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre># vi /etc/puppet/manifests/site.pp

package { 'zsh' :
        ensure =&gt; present;
}

file { '/etc/sysconfig/puppet' :
        owner =&gt; 'root',
        group =&gt; 'root',
        mode =&gt; 644,
        source =&gt; 'puppet://puppetserver.localnet/files/puppet',
}

file { '/etc/puppet/auth.conf' :
        owner =&gt; 'root',
        group =&gt; 'root',
        mode =&gt; 644,
        source =&gt; 'puppet://puppetserver.localnet/files/auth.conf',
}
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre># vi /etc/puppet/manifests/files/puppet

# The puppetmaster server
PUPPET_SERVER=puppetsrv.localnet

# If you wish to specify the port to connect to do so here
#PUPPET_PORT=8140

# Where to log to. Specify syslog to send log messages to the system log.
PUPPET_LOG=/var/log/puppet/puppet.log

# You may specify other parameters to the puppet client here
#PUPPET_EXTRA_OPTS=--waitforcert=500
PUPPET_EXTRA_OPTS="--listen --no-client"
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre># vi /etc/puppet/manifests/files/auth.conf

path /run
method save
allow *

path /
auth any
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="c"># service puppetmaster start</span>
</pre></div>
</div>
<p>これで以下のコマンドを実行すればPuppet clientにマニュフェストが適用される。</p>
<div class="highlight-python"><div class="highlight"><pre><span class="c"># puppet kick --host puppetclient002.localnet</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="kickstart">
<h2>Kickstart</h2>
<p>Puppet client用のkickstartファイルは下記のようになっている。</p>
<p>postセクションに</p>
<div class="highlight-python"><div class="highlight"><pre>/sbin/chkconfig puppet on
puppet agent --server=puppetserver.localnet --no-daemonize --onetime
</pre></div>
</div>
<p>を記述することで、Puppetの自動起動、Puppet serverからマニュフェストを取得する処理が1度だけ実行される。これでPuppet clientはOSインストールからPuppetインストール,セットアップまで自動化することが出来た。しかし、今回の設定では各clientの細かい制御(client1にはapache,client2にはmysqlなど)が出来ていないのでそれについては、またの機会に書きたいと思う。</p>
<div class="highlight-python"><div class="highlight"><pre># vi /var/lib/cobbler/kickstarts/puppet_client.ks

#platform=x86, AMD64, or Intel EM64T
# System authorization information
auth  --useshadow  --enablemd5
# System bootloader configuration
bootloader --location=mbr
# Partition clearing information
clearpart --all --initlabel
# Use text mode install
text
# Firewall configuration
#firewall --enabled
firewall --disabled
# Run the Setup Agent on first boot
firstboot --disable
# Timezone
timezone Asia/Tokyo
# System keyboard
keyboard us
# System language
lang en_US
# Use network installation
url --url=$tree
# If any cobbler repo definitions were referenced in the kickstart profile, include them here.
$yum_repo_stanza
# Network information
$SNIPPET('network_config')
# Reboot after installation
reboot

#Root password
rootpw --iscrypted $default_password_crypted
# SELinux configuration
selinux --disabled
# Do not configure the X Window System
skipx
# System timezone
timezone  America/New_York
# Install OS instead of upgrade
install
# Clear the Master Boot Record
zerombr
# Allow anaconda to partition the system as needed
autopart


%pre
$SNIPPET('log_ks_pre')
$SNIPPET('kickstart_start')
$SNIPPET('pre_install_network_config')
# Enable installation monitoring
$SNIPPET('pre_anamon')

%packages
$SNIPPET('func_install_if_enabled')
$SNIPPET('puppet_install_if_enabled')
puppet

%post
$SNIPPET('log_ks_post')
# Start yum configuration
$yum_config_stanza
# End yum configuration
$SNIPPET('post_install_kernel_options')
$SNIPPET('post_install_network_config')
$SNIPPET('func_register_if_enabled')
$SNIPPET('puppet_register_if_enabled')
$SNIPPET('download_config_files')
$SNIPPET('koan_environment')
$SNIPPET('redhat_register')
$SNIPPET('cobbler_register')
/sbin/chkconfig puppet on
puppet agent --server=puppetserver.localnet --no-daemonize --onetime
# Enable post-install boot notification
$SNIPPET('post_anamon')
# Start final steps
$SNIPPET('kickstart_done')
# End final steps
</pre></div>
</div>
<ul class="simple"><li><a class="reference external" href="http://www.cobblerd.org/manuals/2.4.0/4/4/2_-_Managing_DNS.html">Managing DNS</a></li>
<li><a class="reference external" href="http://www.cobblerd.org/manuals/2.2.3/4/3/1_-_Managing_DHCP.html">Managing DHCP</a></li>
<li><a class="reference external" href="http://d.hatena.ne.jp/int128/20120226/1330247800">http://d.hatena.ne.jp/int128/20120226/1330247800</a></li>
<li><a class="reference external" href="http://blog.glidenote.com/blog/2012/03/16/cobbler-system-add">http://blog.glidenote.com/blog/2012/03/16/cobbler-system-add/</a></li>
</ul></div>
        <div class="postmeta">
        <div class="author">
            <span>Posted by zinrai</span>
        </div>
        <div class="categories">
            <span>
                Filed under:
                <a href="categories/puppet.html">puppet</a>, <a href="categories/cobbler.html">cobbler</a></span>
        </div>
        <div class="tags">
            <span>
                Tags:
                <a href="tags/centos.html">centos</a>, <a href="tags/puppet.html">puppet</a>, <a href="tags/cobbler.html">cobbler</a></span>
        </div>
        </div><div class="separator post_separator"></div><div class="timestamp postmeta">
            <span>June 18, 2013</span>
        </div>
        <h1><a href="2013/06/18/centos_cobbler_setup.html">CentOS6.4にCobblerサーバ構築</a></h1>
<p>サーバ100台くらいにOSインストールする作業が発生するかもしれないので怠けるための作業をメモしておく。まずはCobblerサーバを構築してOSインストールが出来るまで。</p>
<div class="highlight-python"><div class="highlight"><pre># uname -a
Linux localhost.localdomain 2.6.32-358.11.1.el6.x86_64 #1 SMP Wed Jun 12 03:34:52 UTC 2013 x86_64 x86_64 x86_64 GNU/Linux

# cat /etc/centos-release
CentOS release 6.4 (Final)
</pre></div>
</div>
<p>SELinuxを無効にしないとCobblerが動作しない。</p>
<p>下記のファイルを編集して再起動</p>
<div class="highlight-python"><div class="highlight"><pre><span class="c"># vi /etc/selinux/config</span>
<span class="n">SELINUX</span><span class="o">=</span><span class="n">disabled</span>

<span class="c"># chkconfig xinetd on</span>
<span class="c"># chkconfig httpd on</span>
<span class="c"># chkconfig cobblerd on</span>
<span class="c"># chkconfig dhcpd on</span>
<span class="c"># reboot</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre># rpm -i http://mirror.symnds.com/distributions/fedora-epel/6/x86_64/epel-release-6-8.noarch.rpm
# yum -y install cobbler pykickstart dhcp

# cobbler --version
Cobbler 2.2.3
  source: ?, ?
  build time: Mon Jun 18 01:04:49 2012

# cobbler check
The following are potential configuration items that you may want to fix:

1 : The 'server' field in /etc/cobbler/settings must be set to something other than localhost, or kickstarting features will not work.  This should be a resolvable hostname or IP for the boot server as reachable by all machines that will use it.
2 : For PXE to be functional, the 'next_server' field in /etc/cobbler/settings must be set to something other than 127.0.0.1, and should match the IP of the boot server on the PXE network.
3 : some network boot-loaders are missing from /var/lib/cobbler/loaders, you may run 'cobbler get-loaders' to download them, or, if you only want to handle x86/x86_64 netbooting, you may ensure that you have installed a *recent* version of the syslinux package installed and can ignore this message entirely.  Files in this directory, should you want to support all architectures, should include pxelinux.0, menu.c32, elilo.efi, and yaboot. The 'cobbler get-loaders' command is the easiest way to resolve these requirements.
4 : change 'disable' to 'no' in /etc/xinetd.d/rsync
5 : since iptables may be running, ensure 69, 80/443, and 25151 are unblocked
6 : debmirror package is not installed, it will be required to manage debian deployments and repositories
7 : The default password used by the sample templates for newly installed machines (default_password_crypted in /etc/cobbler/settings) is still set to 'cobbler' and should be changed, try: "openssl passwd -1 -salt 'random-phrase-here' 'your-password-here'" to generate new one
8 : fencing tools were not found, and are required to use the (optional) power management features. install cman or fence-agents to use them

Restart cobblerd and then run 'cobbler sync' to apply changes.

# /etc/init.d/cobblerd start

# vi /etc/xinetd.d/rsync
disable = no

# vi /etc/xinetd.d/tftp
disable = no

# vi /etc/cobbler/settings
server: 192.168.0.1
manage_dhcp: 1
next_server: 192.168.0.254 &lt;- Gateway

# vi /etc/cobbler/dhcp.template
subnet 192.168.0.0 netmask 255.255.255.0 {
     option routers             192.168.0.254;
     option domain-name-servers 8.8.8.8;
     option subnet-mask         255.255.255.0;
     range dynamic-bootp        192.168.0.200 192.168.0.250;
     filename                   "/pxelinux.0";
     default-lease-time         21600;
     max-lease-time             43200;
     next-server                $next_server;
}

# /etc/init.d/iptables stop
# /etc/init.d/xinetd restart
# /etc/init.d/cobblerd restart

# cobbler get-loaders
# cobbler sync

# cobbler import --path=rsync://ftp.jaist.ac.jp/pub/Linux/CentOS/6.4/os/x86_64/ --name=CentOS6.4_x86_64
# cobbler sync
</pre></div>
</div>
<p>Cobblerを使いインストールするとデフォルトのパスワードはcobblerとなっている。</p>
<p>変更する場合は</p>
<div class="highlight-python"><div class="highlight"><pre># cobbler check
The following are potential configuration items that you may want to fix:

1 : debmirror package is not installed, it will be required to manage debian deployments and repositories
2 : The default password used by the sample templates for newly installed machines (default_password_crypted in /etc/cobbler/settings) is still set to 'cobbler' and should be changed, try: "openssl passwd -1 -salt 'random-phrase-here' 'your-password-here'" to generate new one
3 : fencing tools were not found, and are required to use the (optional) power management features. install cman or fence-agents to use them

Restart cobblerd and then run 'cobbler sync' to apply changes.
</pre></div>
</div>
<p>に書いてあるように</p>
<div class="highlight-python"><div class="highlight"><pre># openssl passwd -1 -salt "cobbler" "password"
$1$cobbler$UTIGTKoLfLdeMAPNxROQZ1
</pre></div>
</div>
<p>を実行して</p>
<div class="highlight-python"><div class="highlight"><pre># vi /etc/cobbler/settings
default_password_crypted: "$1$cobbler$UTIGTKoLfLdeMAPNxROQZ1"
</pre></div>
</div>
<p>設定ファイルを書き換えてCobblerを再起動</p>
<div class="highlight-python"><div class="highlight"><pre><span class="c"># /etc/init.d/cobblerd restart</span>
</pre></div>
</div>
<ul class="simple"><li><a class="reference external" href="http://www.asahi-net.or.jp/~aa4t-nngk/pxeinstall.html">http://www.asahi-net.or.jp/~aa4t-nngk/pxeinstall.html</a></li>
<li><a class="reference external" href="http://blog.glidenote.com/blog/2012/03/15/cobbler-install">http://blog.glidenote.com/blog/2012/03/15/cobbler-install/</a></li>
<li><a class="reference external" href="http://www.ibm.com/developerworks/jp/linux/library/l-cobbler">http://www.ibm.com/developerworks/jp/linux/library/l-cobbler/</a></li>
</ul>
        <div class="postmeta">
        <div class="author">
            <span>Posted by zinrai</span>
        </div>
        <div class="categories">
            <span>
                Filed under:
                <a href="categories/cobbler.html">cobbler</a></span>
        </div>
        <div class="tags">
            <span>
                Tags:
                <a href="tags/centos.html">centos</a>, <a href="tags/cobbler.html">cobbler</a></span>
        </div>
        </div><div class="archive_link">
        <a href="archive.html"> &mdash; Blog Archive &mdash; </a>
    </div><ul class="related clearfix">
            <li class="left"> &laquo; <a href="page25.html">Newer</a></li>
            <li class="right"><a href="page27.html">Older</a> &raquo; </li>
        </ul></article><aside class="sidebar"><section><div class="widget">
    <h1>Recent Posts</h1>
    <ul><li>
            <a href="2014/08/30/debian_sid_buildbot.html">buildbot を動かしてみる</a>
        </li><li>
            <a href="2014/08/29/debian_sid_lxc_centos_container.html">Debian sid で CentOS の LXCテンプレートを試してみた</a>
        </li><li>
            <a href="2014/08/28/debian_sid_lxc.html">Debian sid で LXC を使ってみる</a>
        </li><li>
            <a href="2014/08/24/debian_wheezy_lxc.html">Debian wheezyでLXCを使ってみる</a>
        </li><li>
            <a href="2014/07/04/debian_wheezy_vagrant_digital_ocean.html">Vagrant で DigitalOcean を操作する</a>
        </li><li>
            <a href="2014/07/01/centos_65_jenkins_install.html">CentOS 6.5 に Jenkins インストール</a>
        </li><li>
            <a href="2014/06/30/centos_65_fluentd_plugin.html">td-agent で外部プラグインを使ってみる</a>
        </li><li>
            <a href="2014/06/29/centos_65_td_agent_out_s3.html">td-agent で S3 にログを送る</a>
        </li><li>
            <a href="2014/06/28/debian_wheezy_apt_cacher_ng.html">apt-cacher-ng でapt用のキャッシュプロキシを構築する</a>
        </li><li>
            <a href="2014/06/27/centos_65_clamav.html">CentOS 6.5 で ClamAV を使ってみた</a>
        </li></ul>
</div>
</section><section><div class="widget">
    <h1>Categories</h1>
    <ul><li><a href="categories/aide.html">aide</a> (1)</li><li><a href="categories/ansible.html">ansible</a> (1)</li><li><a href="categories/apt.html">apt</a> (1)</li><li><a href="categories/buildbot.html">buildbot</a> (1)</li><li><a href="categories/centos.html">centos</a> (2)</li><li><a href="categories/chef.html">chef</a> (2)</li><li><a href="categories/clamav.html">clamav</a> (1)</li><li><a href="categories/cobbler.html">cobbler</a> (2)</li><li><a href="categories/cowbuilder.html">cowbuilder</a> (1)</li><li><a href="categories/dante.html">dante</a> (1)</li><li><a href="categories/debian.html">debian</a> (5)</li><li><a href="categories/direnv.html">direnv</a> (1)</li><li><a href="categories/dnsmasq.html">dnsmasq</a> (2)</li><li><a href="categories/docker.html">docker</a> (1)</li><li><a href="categories/fabric.html">fabric</a> (2)</li><li><a href="categories/freebsd.html">freebsd</a> (6)</li><li><a href="categories/gentoo.html">gentoo</a> (2)</li><li><a href="categories/jail.html">jail</a> (2)</li><li><a href="categories/jenkins.html">jenkins</a> (2)</li><li><a href="categories/kvm.html">kvm</a> (1)</li><li><a href="categories/libvirt.html">libvirt</a> (1)</li><li><a href="categories/lxc.html">lxc</a> (3)</li><li><a href="categories/mfsbsd.html">mfsbsd</a> (1)</li><li><a href="categories/mongodb.html">mongodb</a> (2)</li><li><a href="categories/munin.html">munin</a> (3)</li><li><a href="categories/mysql.html">mysql</a> (2)</li><li><a href="categories/nfs.html">nfs</a> (2)</li><li><a href="categories/nginx.html">nginx</a> (4)</li><li><a href="categories/ngircd.html">ngircd</a> (1)</li><li><a href="categories/nsd.html">nsd</a> (1)</li><li><a href="categories/ntp.html">ntp</a> (1)</li><li><a href="categories/openvpn.html">openvpn</a> (1)</li><li><a href="categories/openvswitch.html">openvswitch</a> (1)</li><li><a href="categories/packer.html">packer</a> (1)</li><li><a href="categories/poudriere.html">poudriere</a> (1)</li><li><a href="categories/puppet.html">puppet</a> (1)</li><li><a href="categories/pxeboot.html">pxeboot</a> (2)</li><li><a href="categories/qemu.html">qemu</a> (2)</li><li><a href="categories/rails.html">rails</a> (1)</li><li><a href="categories/rbenv.html">rbenv</a> (1)</li><li><a href="categories/ruby_build.html">ruby-build</a> (1)</li><li><a href="categories/schroot.html">schroot</a> (2)</li><li><a href="categories/serverspec.html">serverspec</a> (1)</li><li><a href="categories/snort.html">snort</a> (2)</li><li><a href="categories/squid.html">squid</a> (1)</li><li><a href="categories/ssh.html">ssh</a> (1)</li><li><a href="categories/sshfs.html">sshfs</a> (1)</li><li><a href="categories/supervisor.html">supervisor</a> (1)</li><li><a href="categories/synergy.html">synergy</a> (1)</li><li><a href="categories/td_agent.html">td-agent</a> (2)</li><li><a href="categories/tinkerer.html">tinkerer</a> (1)</li><li><a href="categories/unbound.html">unbound</a> (1)</li><li><a href="categories/uwsgi.html">uwsgi</a> (1)</li><li><a href="categories/vagrant.html">vagrant</a> (3)</li><li><a href="categories/virtualbox.html">virtualbox</a> (1)</li><li><a href="categories/wpasupplicant.html">wpasupplicant</a> (1)</li><li><a href="categories/xbuild.html">xbuild</a> (1)</li><li><a href="categories/xdm.html">xdm</a> (1)</li><li><a href="categories/zfs.html">zfs</a> (2)</li><li><a href="categories/znc.html">znc</a> (1)</li></ul>
</div></section><section><div class="widget">
    <h1>Tags</h1><a href="tags/aide.html">aide</a> (1), <a href="tags/ansible.html">ansible</a> (1), <a href="tags/apt.html">apt</a> (1), <a href="tags/aufs.html">aufs</a> (2), <a href="tags/aws.html">aws</a> (2), <a href="tags/buildbot.html">buildbot</a> (1), <a href="tags/centos.html">centos</a> (19), <a href="tags/chef.html">chef</a> (3), <a href="tags/chroot.html">chroot</a> (4), <a href="tags/clamav.html">clamav</a> (1), <a href="tags/cobbler.html">cobbler</a> (2), <a href="tags/cowbuilder.html">cowbuilder</a> (1), <a href="tags/dante.html">dante</a> (1), <a href="tags/debian.html">debian</a> (36), <a href="tags/debootstrap.html">debootstrap</a> (1), <a href="tags/deiban.html">deiban</a> (1), <a href="tags/direnv.html">direnv</a> (1), <a href="tags/dns.html">dns</a> (2), <a href="tags/dnsmasq.html">dnsmasq</a> (3), <a href="tags/docker.html">docker</a> (2), <a href="tags/fabric.html">fabric</a> (2), <a href="tags/fluentd.html">fluentd</a> (2), <a href="tags/freebsd.html">freebsd</a> (17), <a href="tags/gentoo.html">gentoo</a> (2), <a href="tags/github.html">github</a> (1), <a href="tags/irc.html">irc</a> (2), <a href="tags/jail.html">jail</a> (3), <a href="tags/jenkins.html">jenkins</a> (3), <a href="tags/kvm.html">kvm</a> (3), <a href="tags/libvirt.html">libvirt</a> (3), <a href="tags/lxc.html">lxc</a> (3), <a href="tags/mfsbsd.html">mfsbsd</a> (1), <a href="tags/mongodb.html">mongodb</a> (2), <a href="tags/munin.html">munin</a> (3), <a href="tags/mysql.html">mysql</a> (2), <a href="tags/nfs.html">nfs</a> (2), <a href="tags/nginx.html">nginx</a> (4), <a href="tags/ngircd.html">ngircd</a> (1), <a href="tags/nsd.html">nsd</a> (1), <a href="tags/ntp.html">ntp</a> (1), <a href="tags/nullfs.html">nullfs</a> (2), <a href="tags/openvpn.html">openvpn</a> (1), <a href="tags/openvswitch.html">openvswitch</a> (1), <a href="tags/packages.html">packages</a> (3), <a href="tags/packer.html">packer</a> (1), <a href="tags/pexboot.html">pexboot</a> (1), <a href="tags/ports.html">ports</a> (3), <a href="tags/poudriere.html">poudriere</a> (1), <a href="tags/pulledpork.html">pulledpork</a> (1), <a href="tags/puppet.html">puppet</a> (1), <a href="tags/pxeboot.html">pxeboot</a> (1), <a href="tags/python.html">python</a> (5), <a href="tags/qemu.html">qemu</a> (2), <a href="tags/rails.html">rails</a> (1), <a href="tags/rbenv.html">rbenv</a> (1), <a href="tags/rpmbuild.html">rpmbuild</a> (2), <a href="tags/ruby_build.html">ruby-build</a> (1), <a href="tags/s3.html">s3</a> (2), <a href="tags/schroot.html">schroot</a> (2), <a href="tags/serverspec.html">serverspec</a> (1), <a href="tags/sid.html">sid</a> (5), <a href="tags/snort.html">snort</a> (2), <a href="tags/socks.html">socks</a> (1), <a href="tags/squid.html">squid</a> (1), <a href="tags/ssh.html">ssh</a> (1), <a href="tags/sshfs.html">sshfs</a> (1), <a href="tags/supervisor.html">supervisor</a> (1), <a href="tags/synergy.html">synergy</a> (1), <a href="tags/td_agent.html">td-agent</a> (2), <a href="tags/tinkerer.html">tinkerer</a> (1), <a href="tags/ubuntu.html">ubuntu</a> (5), <a href="tags/unbound.html">unbound</a> (1), <a href="tags/uwsgi.html">uwsgi</a> (2), <a href="tags/vagrant.html">vagrant</a> (4), <a href="tags/vimage.html">vimage</a> (2), <a href="tags/virtualbox.html">virtualbox</a> (3), <a href="tags/vsftpd.html">vsftpd</a> (1), <a href="tags/wheezy.html">wheezy</a> (27), <a href="tags/wpasupplicant.html">wpasupplicant</a> (1), <a href="tags/xbuild.html">xbuild</a> (1), <a href="tags/xdm.html">xdm</a> (1), <a href="tags/yum.html">yum</a> (1), <a href="tags/zfs.html">zfs</a> (5), <a href="tags/znc.html">znc</a> (1)</div></section><section><div class="widget" id="searchbox" role="search">
    <h1>Search</h1>
    <form action="search.html" method="get">
        <input type="text" name="q" />
        <button type="submit"><span class="fa fa-search"></span></button>
    </form>
</div></section></aside></div> <!-- #main --></div> <!-- #main-container -->

        <div class="footer-container" role="contentinfo"><footer class="wrapper">&copy; Copyright 2012, zinrai. Powered by <a href="http://www.tinkerer.me/">Tinkerer</a> and <a href="http://sphinx.pocoo.org/">Sphinx</a>.</footer></div> <!-- footer-container -->

      </div> <!--! end of #container --><!--[if lt IE 7 ]>
          <script src="//ajax.googleapis.com/ajax/libs/chrome-frame/1.0.3/CFInstall.min.js"></script>
          <script>window.attachEvent('onload',function(){CFInstall.check({mode:'overlay'})})</script>
        <![endif]-->
    </body>
</html>